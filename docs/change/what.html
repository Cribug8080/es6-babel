<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="generator" content="VNote">

    <title>what</title>
    <link rel="icon" href="https://github.com/tamlok/vnote/raw/master/src/resources/icons/vnote.ico">

    <style type="text/css">
    /* STYLE_GLOBAL_PLACE_HOLDER */
    </style>

    <style type="text/css">
    *,
*::before,
*::after {
  box-sizing: border-box;
}

.container-fluid {
    width: 100%;
    padding-right: 15px;
    padding-left: 15px;
    margin-right: auto;
    margin-left: auto;
}

.col, .col-1, .col-10, .col-11, .col-12, .col-2, .col-3, .col-4, .col-5, .col-6, .col-7, .col-8, .col-9, .col-auto, .col-lg, .col-lg-1, .col-lg-10, .col-lg-11, .col-lg-12, .col-lg-2, .col-lg-3, .col-lg-4, .col-lg-5, .col-lg-6, .col-lg-7, .col-lg-8, .col-lg-9, .col-lg-auto, .col-md, .col-md-1, .col-md-10, .col-md-11, .col-md-12, .col-md-2, .col-md-3, .col-md-4, .col-md-5, .col-md-6, .col-md-7, .col-md-8, .col-md-9, .col-md-auto, .col-sm, .col-sm-1, .col-sm-10, .col-sm-11, .col-sm-12, .col-sm-2, .col-sm-3, .col-sm-4, .col-sm-5, .col-sm-6, .col-sm-7, .col-sm-8, .col-sm-9, .col-sm-auto, .col-xl, .col-xl-1, .col-xl-10, .col-xl-11, .col-xl-12, .col-xl-2, .col-xl-3, .col-xl-4, .col-xl-5, .col-xl-6, .col-xl-7, .col-xl-8, .col-xl-9, .col-xl-auto {
    position: relative;
    width: 100%;
    min-height: 1px;
    padding-right: 15px;
    padding-left: 15px;
}

.col-12 {
    -webkit-box-flex: 0;
    -ms-flex: 0 0 100%;
    flex: 0 0 100%;
    max-width: 100%;
}

@media (min-width: 768px) {
    .col-md-3 {
        -webkit-box-flex: 0;
        -ms-flex: 0 0 25%;
        flex: 0 0 25%;
        max-width: 25%;
    }
}

@media (min-width: 768px) {
    .col-md-9 {
        -webkit-box-flex: 0;
        -ms-flex: 0 0 75%;
        flex: 0 0 75%;
        max-width: 75%;
    }
}

@media (min-width: 1200px) {
    .col-xl-2 {
        -webkit-box-flex: 0;
        -ms-flex: 0 0 16.666667%;
        flex: 0 0 16.666667%;
        max-width: 16.666667%;
    }
}

@media (min-width: 1200px) {
    .col-xl-10 {
        -webkit-box-flex: 0;
        -ms-flex: 0 0 83.333333%;
        flex: 0 0 83.333333%;
        max-width: 83.333333%;
    }
}

@media (min-width: 768px) {
    .pt-md-3, .py-md-3 {
        padding-top: 1rem!important;
    }
}

@media (min-width: 768px) {
    .pb-md-3, .py-md-3 {
        padding-bottom: 1rem!important;
    }
}

@media (min-width: 768px) {
    .pl-md-5, .px-md-5 {
        padding-left: 3rem!important;
    }
}

.d-none {
    display: none!important;
}

@media (min-width: 1200px) {
    .d-xl-block {
        display: block!important;
    }
}

@media (min-width: 768px) {
    .d-md-block {
        display: block!important;
    }
}

.bd-content {
    -webkit-box-ordinal-group: 1;
    -ms-flex-order: 0;
    order: 0;
}

.bd-toc {
    position: -webkit-sticky;
    position: sticky;
    top: 4rem;
    height: calc(100vh - 10rem);
    overflow-y: auto;
}

.bd-toc {
    -webkit-box-ordinal-group: 2;
    -ms-flex-order: 1;
    order: 1;
    padding-top: 1.5rem;
    padding-bottom: 1.5rem;
    font-size: .875rem;
}

.section-nav {
    padding-left: 0;
}

.section-nav ul {
    font-size: .875rem;
    list-style-type: none;
}

.section-nav li {
    font-size: .875rem;
}

.section-nav a {
    color: inherit !important;
}

.row {
    display: -webkit-box;
    display: -ms-flexbox;
    display: flex;
    -ms-flex-wrap: wrap;
    flex-wrap: wrap;
    margin-right: -15px;
    margin-left: -15px;
}

@media (min-width: 1200px) {
    .flex-xl-nowrap {
        flex-wrap: nowrap !important;
    }
}

#floating-button {
    width: 2.5rem;
    height: 2.5rem;
    border-radius: 50%;
    background: #00897B;
    position: fixed;
    top: .5rem;
    right: .5rem;
    cursor: pointer;
    box-shadow: 0px 2px 5px #666;
}

#floating-button .more {
    color: #F5F5F5;
    position: absolute;
    top: 0;
    display: block;
    bottom: 0;
    left: 0;
    right: 0;
    text-align: center;
    padding: 0;
    margin: 0;
    line-height: 2.5rem;
    font-size: 2rem;
    font-family: 'monospace';
    font-weight: 300;
}

.hide-none {
    display: none !important;
}

.col-expand {
    -webkit-box-flex: 0;
    -ms-flex: 0 0 100% !important;
    flex: 0 0 100% !important;
    max-width: 100% !important;
    padding-right: 3rem !important;
}

.outline-bold {
    font-weight: bolder !important;
}

@media print {
    #floating-button {
        display: none !important;
    }
}

    @keyframes flash { 
  0% { color: rgb(128, 203, 196); }
  10% { color: rgb(0, 137, 123); }
  40% { color: rgb(0, 137, 123); }
  50% { color: rgb(128, 203, 196); }
  60% { color: rgb(0, 137, 123); }
  90% { color: rgb(0, 137, 123); }
}
.highlighted-anchor { animation: flash 1s; }
div.mark-rect { background: transparent; border: 5px solid rgb(87, 104, 196); border-radius: 2px; position: absolute; }
#vnote-footer { width: 100%; text-align: center; opacity: 0.2; margin-top: 3rem; }
#vnote-footer p { font-size: 0.8rem; }
#vnote-footer a { color: inherit !important; }
x-eqs { display: flex; flex-direction: row; align-content: space-between; align-items: center; }
x-eqs > x-eqn { width: 100%; margin-left: 3rem; }
x-eqs > span { text-align: right; }
.view-image, .view-svg { transition: 0.3s; }
.modal-box { display: none; position: fixed; z-index: 1000; padding-top: 50px; left: 0px; top: 0px; width: 100%; height: 100%; overflow: hidden; background-color: rgba(68, 68, 68, 0.952941); }
.modal-content { margin: auto; display: block; width: auto; height: auto; cursor: move; }
.modal-content { animation-name: zoom; animation-duration: 0.6s; }
@-webkit-keyframes zoom { 
  0% { transform: scale(0); }
  100% { transform: scale(1); }
}
@keyframes zoom { 
  0% { transform: scale(0); }
  100% { transform: scale(1); }
}
span.modal-close { position: absolute; z-index: 1000; top: 15px; right: 35px; color: rgb(218, 218, 218); font-size: 40px; font-weight: bold; transition: 0.3s; }
span.modal-close:hover, span.modal-close:focus { color: rgb(238, 238, 238); text-decoration: none; cursor: pointer; }
@media print {
  pre, pre code, td.hljs-ln-code { white-space: pre-wrap !important; word-break: break-all !important; }
  code, a { word-break: break-all !important; }
  div.flowchart-diagram, div.mermaid-diagram, div.plantuml-diagram { overflow: hidden !important; }
  img { max-width: 100% !important; height: auto !important; }
  #vnote-footer { display: none !important; }
}
.alert { position: relative; padding: 0.75rem 1.25rem; margin-bottom: 1rem; border: 1px solid transparent; border-radius: 0.25rem; }
.alert-primary { color: rgb(0, 64, 133); background-color: rgb(204, 229, 255); border-color: rgb(184, 218, 255); }
.alert-secondary { color: rgb(56, 61, 65); background-color: rgb(226, 227, 229); border-color: rgb(214, 216, 219); }
.alert-success { color: rgb(21, 87, 36); background-color: rgb(212, 237, 218); border-color: rgb(195, 230, 203); }
.alert-info { color: rgb(12, 84, 96); background-color: rgb(209, 236, 241); border-color: rgb(190, 229, 235); }
.alert-warning { color: rgb(133, 100, 4); background-color: rgb(255, 243, 205); border-color: rgb(255, 238, 186); }
.alert-danger { color: rgb(114, 28, 36); background-color: rgb(248, 215, 218); border-color: rgb(245, 198, 203); }
.alert-light { color: rgb(129, 129, 130); background-color: rgb(254, 254, 254); border-color: rgb(253, 253, 254); }
.alert-dark { color: rgb(27, 30, 33); background-color: rgb(214, 216, 217); border-color: rgb(198, 200, 202); }
.vnote-anchor { font-weight: 400; color: rgba(0, 123, 255, 0.498039); transition: color 0.16s linear; padding-left: 0.375em; -webkit-font-smoothing: antialiased; text-decoration: none; opacity: 0; }
.vnote-anchor:hover { color: rgb(0, 123, 255); text-decoration: none; opacity: 1; }
.vnote-anchor::after { content: attr(data-anchor-icon); }
body { margin: 0px auto; font-family: "Segoe UI", Helvetica, sans-serif, Tahoma, Arial, Geneva, Georgia, Palatino, "Times New Roman", "Hiragino Sans GB", 冬青黑体, "Microsoft YaHei", 微软雅黑, "Microsoft YaHei UI", "WenQuanYi Micro Hei", 文泉驿雅黑, Dengxian, 等线体, STXihei, 华文细黑, "Liberation Sans", "Droid Sans", NSimSun, 新宋体, SimSun, 宋体; color: rgb(34, 34, 34); line-height: 1.5; padding: 15px; background: rgb(238, 238, 238); font-size: 16px; }
h1, h2, h3, h4, h5, h6 { color: rgb(34, 34, 34); font-weight: bold; margin-top: 20px; margin-bottom: 10px; padding: 0px; }
p { padding: 0px; margin-top: 16px; margin-bottom: 16px; }
h1 { font-size: 26px; }
h2 { font-size: 24px; }
h3 { font-size: 22px; }
h4 { font-size: 20px; }
h5 { font-size: 19px; }
h6 { font-size: 18px; }
a { color: rgb(0, 153, 255); margin: 0px; padding: 0px; vertical-align: baseline; text-decoration: none; word-break: break-all; }
a:hover { text-decoration: underline; color: rgb(255, 102, 0); }
a:visited { color: purple; }
ul, ol { padding: 0px 0px 0px 24px; }
li { line-height: 24px; }
li ul, li ol { margin-left: 16px; }
p, ul, ol { font-size: 16px; line-height: 24px; }
pre { display: block; overflow-y: hidden; overflow-x: auto; tab-size: 4; }
code { font-family: Consolas, Monaco, monospace, Courier; color: rgb(142, 36, 170); word-break: break-all; }
pre code { display: block; overflow-x: auto; padding: 0.5em; color: rgb(34, 34, 34); background-color: rgb(224, 224, 224); border-left: 0.5em solid rgb(0, 137, 123); line-height: 1.5; font-family: Consolas, Monaco, monospace, Courier; white-space: pre; tab-size: 4; }
pre code.markdown-metadata { border-left: 0.5em solid rgb(128, 203, 196); }
aside { display: block; float: right; width: 390px; }
blockquote { color: rgb(102, 102, 102); border-left: 0.5em solid rgb(122, 122, 122); padding: 0px 1em; margin-left: 0px; }
blockquote p { color: rgb(102, 102, 102); }
hr { display: block; text-align: left; margin: 1em 0px; border: none; height: 2px; background: rgb(153, 153, 153); }
table { padding: 0px; margin: 1rem 0.5rem; border-collapse: collapse; }
table tr { border-top: 2px solid rgb(204, 204, 204); background-color: white; margin: 0px; padding: 0px; }
table tr:nth-child(2n) { background-color: rgb(248, 248, 248); }
table tr th { font-weight: bold; border: 2px solid rgb(204, 204, 204); margin: 0px; padding: 6px 13px; }
table tr td { border: 2px solid rgb(204, 204, 204); margin: 0px; padding: 6px 13px; }
table tr th :first-child, table tr td :first-child { margin-top: 0px; }
table tr th :last-child, table tr td :last-child { margin-bottom: 0px; }
div.mermaid-diagram { margin: 16px 0px; overflow-y: hidden; }
div.flowchart-diagram { padding: 0px 5px; margin: 16px 0px; width: fit-content; overflow: hidden; }
div.wavedrom-diagram { padding: 0px 5px; margin: 16px 0px; width: fit-content; overflow: hidden; }
div.plantuml-diagram { padding: 5px 5px 0px; margin: 16px 0px; width: fit-content; overflow: hidden; }
.img-package { text-align: center; }
img.img-center { display: block; margin-left: auto; margin-right: auto; }
span.img-caption { min-width: 20%; max-width: 80%; display: inline-block; padding: 10px; margin: 0px auto; border-bottom: 1px solid rgb(192, 192, 192); color: rgb(108, 108, 108); text-align: center; line-height: 1.5; }
.emoji_zero, .emoji_one, .emoji_two, .emoji_three, .emoji_four, .emoji_five, .emoji_six, .emoji_seven, .emoji_eight, .emoji_nine { margin-left: 5px; margin-right: 8px; }
div.preview-hint { opacity: 0.5; margin-top: 30%; margin-bottom: 30%; align-items: center; display: flex; flex-direction: column; justify-content: center; }
table.hljs-ln tr { border: none; background-color: transparent; }
table.hljs-ln tr td { border: none; background-color: transparent; }
table.hljs-ln tr td.hljs-ln-numbers { user-select: none; text-align: center; color: rgb(170, 170, 170); border-right: 1px solid rgb(204, 204, 204); vertical-align: top; padding-right: 5px; white-space: nowrap; }
table.hljs-ln tr td.hljs-ln-code { padding-left: 10px; }
::-webkit-scrollbar { background-color: rgb(234, 234, 234); width: 14px; height: 14px; border: none; }
::-webkit-scrollbar-corner { background-color: rgb(234, 234, 234); }
::-webkit-scrollbar-button { height: 14px; width: 14px; background-color: rgb(234, 234, 234); }
::-webkit-scrollbar-button:hover { background-color: rgb(208, 208, 208); }
::-webkit-scrollbar-button:active { background-color: rgb(178, 178, 178); }
::-webkit-scrollbar-track { background-color: rgb(234, 234, 234); }
::-webkit-scrollbar-thumb { border: none; background-color: rgb(218, 218, 218); }
::-webkit-scrollbar-thumb:hover { background-color: rgb(208, 208, 208); }
::-webkit-scrollbar-thumb:active { background-color: rgb(178, 178, 178); }
::-webkit-scrollbar-button:horizontal:increment { background-image: url('data:image/svg+xml;utf8,<svg width="512" height="512" xmlns="http://www.w3.org/2000/svg" xmlns:svg="http://www.w3.org/2000/svg"> <g>    <g transform="rotate(-90 256.00000000000006,256) " id="svg_1">   <polygon fill="%23333333" id="svg_2" points="128,192 256,320 384,192  "/>  </g> </g></svg>'); background-repeat: no-repeat; background-size: contain; }
::-webkit-scrollbar-button:horizontal:decrement { background-image: url('data:image/svg+xml;utf8,<svg width="512" height="512" xmlns="http://www.w3.org/2000/svg" xmlns:svg="http://www.w3.org/2000/svg"> <g>    <g transform="rotate(90 255.99999999999997,256.00000000000006) " id="svg_1">   <polygon points="128,192 256,320 384,192  " id="svg_2" fill="%23333333"/>  </g> </g></svg>'); background-repeat: no-repeat; background-size: contain; }
::-webkit-scrollbar-button:vertical:increment { background-image: url('data:image/svg+xml;utf8,<svg width="512" height="512" xmlns="http://www.w3.org/2000/svg" xmlns:svg="http://www.w3.org/2000/svg"> <g>    <g transform="null" id="svg_1">   <polygon points="128,192 256,320 384,192  " id="svg_2" fill="%23333333"/>  </g> </g></svg>'); background-repeat: no-repeat; background-size: contain; }
::-webkit-scrollbar-button:vertical:decrement { background-image: url('data:image/svg+xml;utf8,<svg width="512" height="512" xmlns="http://www.w3.org/2000/svg" xmlns:svg="http://www.w3.org/2000/svg"> <g>    <g transform="rotate(180 255.99999999999997,256) " id="svg_1">   <polygon points="128,192 256,320 384,192  " id="svg_2" fill="%23333333"/>  </g> </g></svg>'); background-repeat: no-repeat; background-size: contain; }
::selection { background: rgb(25, 118, 210); color: rgb(238, 238, 238); }
.modal-box { background-color: rgba(234, 234, 234, 0.952941); }
span.modal-close { color: rgb(102, 102, 102); }
span.modal-close:hover, span.modal-close:focus { color: rgb(34, 34, 34); }
.hljs { display: block; overflow-x: auto; padding: 0.5em; background: rgb(224, 224, 224); }
.hljs, .hljs-subst { color: rgb(54, 54, 54); }
.hljs-comment { color: rgb(118, 118, 118); }
.hljs-keyword, .hljs-attribute, .hljs-selector-tag, .hljs-meta-keyword, .hljs-doctag, .hljs-name { color: rgb(0, 0, 238); }
.hljs-type, .hljs-string, .hljs-number, .hljs-selector-id, .hljs-selector-class, .hljs-quote, .hljs-template-tag, .hljs-deletion { color: rgb(136, 0, 0); }
.hljs-title, .hljs-section { color: rgb(136, 0, 0); font-weight: bold; }
.hljs-regexp, .hljs-symbol, .hljs-variable, .hljs-template-variable, .hljs-link, .hljs-selector-attr, .hljs-selector-pseudo { color: rgb(188, 96, 96); }
.hljs-literal { color: rgb(175, 0, 215); }
.hljs-built_in, .hljs-bullet, .hljs-code, .hljs-addition { color: rgb(0, 135, 0); }
.hljs-meta { color: rgb(31, 113, 153); }
.hljs-meta-string { color: rgb(77, 153, 191); }
.hljs-emphasis { font-style: italic; }
.hljs-strong { font-weight: bold; }

    </style>

    <script type="text/javascript">
var toc = [];

var setVisible = function(node, visible) {
    var cl = 'hide-none';
    if (visible) {
        node.classList.remove(cl);
    } else {
        node.classList.add(cl);
    }
};

var isVisible = function(node) {
    var cl = 'hide-none';
    return !node.classList.contains(cl);
};

var setPostContentExpanded = function(node, expanded) {
    var cl = 'col-expand';
    if (expanded) {
        node.classList.add(cl);
    } else {
        node.classList.remove(cl);
    }
};

var setOutlinePanelVisible = function(visible) {
    var outlinePanel = document.getElementById('outline-panel');
    var postContent = document.getElementById('post-content');

    setVisible(outlinePanel, visible);
    setPostContentExpanded(postContent, !visible);
};

var isOutlinePanelVisible = function() {
    var outlinePanel = document.getElementById('outline-panel');
    return isVisible(outlinePanel);
};

window.addEventListener('load', function() {
    var outlinePanel = document.getElementById('outline-panel');
    outlinePanel.style.display = 'initial';

    var floatingContainer = document.getElementById('container-floating');
    floatingContainer.style.display = 'initial';

    var outlineContent = document.getElementById('outline-content');
    var postContent = document.getElementById('post-content');

    // Escape @text to Html.
    var escapeHtml = function(text) {
        var map = {
            '&': '&amp;',
            '<': '&lt;',
            '>': '&gt;',
            '"': '&quot;',
            "'": '&#039;'
        };

        return text.replace(/[&<>"']/g, function(m) { return map[m]; });
    }

    // Fetch the outline.
    var headers = postContent.querySelectorAll("h1, h2, h3, h4, h5, h6");
    toc = [];
    for (var i = 0; i < headers.length; ++i) {
        var header = headers[i];

        toc.push({
            level: parseInt(header.tagName.substr(1)),
            anchor: header.id,
            title: escapeHtml(header.textContent)
        });
    }

    if (toc.length == 0) {
        setOutlinePanelVisible(false);
        setVisible(floatingContainer, false);
        return;
    }

    var baseLevel = baseLevelOfToc(toc);
    var tocTree = tocToTree(toPerfectToc(toc, baseLevel), baseLevel);

    outlineContent.innerHTML = tocTree;
    setOutlinePanelVisible(true);
    setVisible(floatingContainer, true);
});

// Return the topest level of @toc, starting from 1.
var baseLevelOfToc = function(p_toc) {
    var level = -1;
    for (i in p_toc) {
        if (level == -1) {
            level = p_toc[i].level;
        } else if (level > p_toc[i].level) {
            level = p_toc[i].level;
        }
    }

    if (level == -1) {
        level = 1;
    }

    return level;
};

// Handle wrong title levels, such as '#' followed by '###'
var toPerfectToc = function(p_toc, p_baseLevel) {
    var i;
    var curLevel = p_baseLevel - 1;
    var perfToc = [];
    for (i in p_toc) {
        var item = p_toc[i];

        // Insert empty header.
        while (item.level > curLevel + 1) {
            curLevel += 1;
            var tmp = { level: curLevel,
                        anchor: '',
                        title: '[EMPTY]'
                      };
            perfToc.push(tmp);
        }

        perfToc.push(item);
        curLevel = item.level;
    }

    return perfToc;
};

var itemToHtml = function(item) {
    return '<a href="#' + item.anchor + '" data="' + item.anchor + '">' + item.title + '</a>';
};

// Turn a perfect toc to a tree using <ul>
var tocToTree = function(p_toc, p_baseLevel) {
    var i;
    var front = '<li>';
    var ending = ['</li>'];
    var curLevel = p_baseLevel;
    for (i in p_toc) {
        var item = p_toc[i];
        if (item.level == curLevel) {
            front += '</li>';
            front += '<li>';
            front += itemToHtml(item);
        } else if (item.level > curLevel) {
            // assert(item.level - curLevel == 1)
            front += '<ul>';
            ending.push('</ul>');
            front += '<li>';
            front += itemToHtml(item);
            ending.push('</li>');
            curLevel = item.level;
        } else {
            while (item.level < curLevel) {
                var ele = ending.pop();
                front += ele;
                if (ele == '</ul>') {
                    curLevel--;
                }
            }
            front += '</li>';
            front += '<li>';
            front += itemToHtml(item);
        }
    }
    while (ending.length > 0) {
        front += ending.pop();
    }
    front = front.replace("<li></li>", "");
    front = '<ul>' + front + '</ul>';
    return front;
};

var toggleMore = function() {
    if (toc.length == 0) {
        return;
    }

    var p = document.getElementById('floating-more');
    if (isOutlinePanelVisible()) {
        p.textContent = '<';
        setOutlinePanelVisible(false);
    } else {
        p.textContent = '>';
        setOutlinePanelVisible(true);
    }
};

window.addEventListener('scroll', function() {
    if (toc.length == 0 || !isOutlinePanelVisible()) {
        return;
    }

    var postContent = document.getElementById('post-content');
    var scrollTop = document.documentElement.scrollTop
                    || document.body.scrollTop
                    || window.pageYOffset;
    var eles = postContent.querySelectorAll("h1, h2, h3, h4, h5, h6");

    if (eles.length == 0) {
        return;
    }

    var idx = -1;
    var biaScrollTop = scrollTop + 50;
    for (var i = 0; i < eles.length; ++i) {
        if (biaScrollTop >= eles[i].offsetTop) {
            idx = i;
        } else {
            break;
        }
    }

    var header = '';
    if (idx != -1) {
        header = eles[idx].id;
    }

    highlightItemOnlyInOutline(header);
});

var highlightItemOnlyInOutline = function(id) {
    var cl = 'outline-bold';
    var outlineContent = document.getElementById('outline-content');
    var eles = outlineContent.querySelectorAll("a");
    var target = null;
    for (var i = 0; i < eles.length; ++i) {
        var ele = eles[i];
        if (ele.getAttribute('data') == id) {
            target = ele;
            ele.classList.add(cl);
        } else {
            ele.classList.remove(cl);
        }
    }

    // TODO: scroll target into view within the outline panel scroll area.
};

</script>


<!-- HEAD_PLACE_HOLDER -->
</head>
<body>
<div class="container-fluid">
<div class="row flex-xl-nowrap">
    <div id="outline-panel" style="display:none;" class="d-none d-md-block d-xl-block col-md-3 col-xl-2 bd-toc">
        <div id="outline-content" class="section-nav"></div>
    </div>
    <div id="post-content" class="col-12 col-md-9 col-xl-10 py-md-3 pl-md-5 bd-content">
    <h1 id="toc_0">what<a class="vnote-anchor" href="#toc_0" data-anchor-icon="#"></a></h1>
<h2 id="toc_1">console<a class="vnote-anchor" href="#toc_1" data-anchor-icon="#"></a></h2>
<h3 id="toc_2">assert 断言<a class="vnote-anchor" href="#toc_2" data-anchor-icon="#"></a></h3>
<h3 id="toc_3">count countReset<a class="vnote-anchor" href="#toc_3" data-anchor-icon="#"></a></h3>
<h3 id="toc_4">clear<a class="vnote-anchor" href="#toc_4" data-anchor-icon="#"></a></h3>
<h3 id="toc_5">error<a class="vnote-anchor" href="#toc_5" data-anchor-icon="#"></a></h3>
<h3 id="toc_6">group<a class="vnote-anchor" href="#toc_6" data-anchor-icon="#"></a></h3>
<h3 id="toc_7">trace<a class="vnote-anchor" href="#toc_7" data-anchor-icon="#"></a></h3>
<h3></h3>
<h3></h3>
<h3></h3>
<h3></h3>
<h2 id="toc_8">Object<a class="vnote-anchor" href="#toc_8" data-anchor-icon="#"></a></h2>
<h3 id="toc_9"><a href="http://Object.is">Object.is</a>()<a class="vnote-anchor" href="#toc_9" data-anchor-icon="#"></a></h3>
<p>它用来比较两个值是否严格相等，与严格比较运算符（===）的行为基本一致。不同之处只有两个：一是+0不等于-0，二是NaN等于自身。</p>
<pre><code class="lang-js hljs">+<span class="hljs-number">0</span> === <span class="hljs-number">-0</span> <span class="hljs-comment">//true</span>
<span class="hljs-literal">NaN</span> === <span class="hljs-literal">NaN</span> <span class="hljs-comment">// false</span>

<span class="hljs-built_in">Object</span>.is(+<span class="hljs-number">0</span>, <span class="hljs-number">-0</span>) <span class="hljs-comment">// false</span>
<span class="hljs-built_in">Object</span>.is(<span class="hljs-literal">NaN</span>, <span class="hljs-literal">NaN</span>) <span class="hljs-comment">// true</span>
</code></pre>
<h3 id="toc_10">Object.assign()<a class="vnote-anchor" href="#toc_10" data-anchor-icon="#"></a></h3>
<p>用于对象的合并，将源对象（source）的所有可枚举属性，复制到目标对象（target）</p>
<pre><code class="lang-js hljs"><span class="hljs-keyword">let</span> a = {<span class="hljs-attr">a</span>: <span class="hljs-number">1</span>}, b = {<span class="hljs-attr">a</span>: <span class="hljs-number">11</span>,<span class="hljs-attr">b</span>: <span class="hljs-number">2</span>}, c = {<span class="hljs-attr">c</span>: <span class="hljs-number">3</span>};
<span class="hljs-built_in">Object</span>.assign(a, b) <span class="hljs-comment">//=&gt;{a: 11, b: 2}</span>
<span class="hljs-built_in">Object</span>.assign(a, c) === a <span class="hljs-comment">// =&gt; true</span>
</code></pre>
<h2 id="toc_11">Symbol<a class="vnote-anchor" href="#toc_11" data-anchor-icon="#"></a></h2>
<p>表示独一无二的值。<br>
注意，Symbol函数前不能使用new命令，否则会报错。这是因为生成的 Symbol 是一个原始类型的值，不是对象。也就是说，由于 Symbol 值不是对象，所以不能添加属性。基本上，它是一种类似于字符串的数据类型。</p>
<pre><code class="lang-js hljs"><span class="hljs-keyword">let</span> s = <span class="hljs-built_in">Symbol</span>();
<span class="hljs-keyword">let</span> s1 = <span class="hljs-built_in">Symbol</span>(<span class="hljs-string">'foo'</span>);
</code></pre>
<ul>
<li>Symbol函数前不能使用<code>new</code>命令</li>
<li>不能与其他类型的值进行运算，但是可以显式转为字符串，可以转为布尔值，但是不能转为数值</li>
<li>该属性不会出现在<code>for...in</code>、<code>for...of</code>循环中。也不会被<code>Object.keys()</code>、<code>Object.getOwnPropertyNames()</code>、<code>JSON.stringify()</code>返回</li>
<li>不是私有属性，有一个<code>Object.getOwnPropertySymbols()</code>方法，可以获取指定对象的所有<code>Symbol</code> 属性名。<code>Reflect.ownKeys()</code>方法也可以</li>
<li></li>
</ul>
<h2 id="toc_12">Iterator<a class="vnote-anchor" href="#toc_12" data-anchor-icon="#"></a></h2>
<p>Iterator 接口的目的，就是为所有数据结构，提供了一种统一的访问机制，即for...of循环。当使用for...of循环遍历某种数据结构时，该循环会自动去寻找 Iterator 接口。一种数据结构只要部署了 Iterator 接口，我们就称这种数据结构是“可遍历的”（iterable）。<br>
默认的 Iterator 接口部署在数据结构的Symbol.iterator属性，或者说，一个数据结构只要具有Symbol.iterator属性，就可以认为是“可遍历的”。</p>
<pre><code class="lang-js hljs"><span class="hljs-built_in">Symbol</span>.iterator <span class="hljs-comment">// =&gt; Symbol(Symbol.iterator)</span>
arr = [<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>]
<span class="hljs-keyword">let</span> iter = arr[<span class="hljs-built_in">Symbol</span>.iterator]()
iter.next() <span class="hljs-comment">// =&gt; {value: 1, done: false}</span>
iter.next() <span class="hljs-comment">// =&gt; {value: 2, done: false}</span>
iter.next() <span class="hljs-comment">// =&gt; {value: undefined, done: true}</span>

<span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> ele <span class="hljs-keyword">of</span> arr){<span class="hljs-built_in">console</span>.log(ele)} <span class="hljs-comment">// =&gt; 1 2 3</span>
</code></pre>
<p>Array、Map、Set、String、TypedArray、函数的 arguments 对象、NodeList 对象</p>
<p>自定义iterator，可以使用forof</p>
<pre><code class="lang-js hljs"><span class="hljs-keyword">let</span> arr = [<span class="hljs-number">1</span> ,<span class="hljs-number">2</span>, <span class="hljs-number">3</span>]
<span class="hljs-keyword">let</span> obj = {<span class="hljs-attr">a</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">b</span>: <span class="hljs-number">2</span>}

obj[<span class="hljs-built_in">Symbol</span>.iterator] = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">idMaker</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> index = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">let</span> keys = <span class="hljs-built_in">Object</span>.keys(<span class="hljs-keyword">this</span>)
  
    <span class="hljs-keyword">return</span> {
      <span class="hljs-attr">next</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
          <span class="hljs-keyword">if</span>(index &lt; keys.length) {
            <span class="hljs-keyword">return</span> {<span class="hljs-attr">value</span>: keys[index++], <span class="hljs-attr">done</span>: <span class="hljs-literal">false</span>};
          }<span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">return</span> {<span class="hljs-attr">value</span>: <span class="hljs-literal">undefined</span>, <span class="hljs-attr">done</span>: <span class="hljs-literal">true</span>};
          }
      }
    };
  }

<span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> iterator <span class="hljs-keyword">of</span> obj) {
    <span class="hljs-built_in">console</span>.log(iterator)
}
<span class="hljs-comment">// =&gt; a b</span>
</code></pre>
<p>for...of、Array.from()、Map()、Set()、WeakMap()、WeakSet()（比如new Map([['a',1],['b',2]])）、Promise.all()、Promise.race()</p>
<p>除了for...of循环以外，扩展运算符（...）、解构赋值和Array.from方法内部调用的，都是遍历器接口。这意味着，它们都可以将 Generator 函数返回的 Iterator 对象，作为参数。</p>
<h2 id="toc_13">window.btoa  window.atob<a class="vnote-anchor" href="#toc_13" data-anchor-icon="#"></a></h2>
<ul>
<li>btoa ASCII 的二进制数据的单个字节 -&gt;  Base64 表示的字符串</li>
</ul>
<pre><code class="lang-js hljs"><span class="hljs-built_in">window</span>.btoa(<span class="hljs-string">"F"</span>) <span class="hljs-comment">// =&gt; "Rg=="</span>
<span class="hljs-built_in">window</span>.atob(<span class="hljs-string">"Rg=="</span>) <span class="hljs-comment">// =&gt; "F"</span>
</code></pre>
<h2 id="toc_14">base64<a class="vnote-anchor" href="#toc_14" data-anchor-icon="#"></a></h2>
<p>Base64是一种用64个字符来表示任意二进制数据的方法。</p>
<p>首先，准备一个包含64个字符的数组：<br>
['A', 'B', 'C', ... 'a', 'b', 'c', ... '0', '1', ... '+', '/']</p>
<pre><code class="lang-js hljs"><span class="hljs-built_in">Number</span>.parseInt(<span class="hljs-string">"111111"</span>, <span class="hljs-number">2</span>) <span class="hljs-comment">// =&gt; 63</span>
</code></pre>
<p>字符串一字节8比特<br>
base64一个字符对应6比特<br>
所以三个字符串对应base64编码后4个字符串，长度增加33%。</p>
<p><img src='data:image/png;base64,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' alt="二进制转换base64" class="view-image"></p>
<h4 id="toc_15">小结<a class="vnote-anchor" href="#toc_15" data-anchor-icon="#"></a></h4>
<p>Base64是一种任意二进制到文本字符串的编码方法，常用于在URL、Cookie、网页中传输少量二进制数据。</p>
<h2 id="toc_16">async<a class="vnote-anchor" href="#toc_16" data-anchor-icon="#"></a></h2>
<p>是 Generator 函数的语法糖</p>
<ul>
<li>await命令后面是一个 Promise 对象，返回该对象的结果</li>
<li>如果不是 Promise 对象，就直接返回对应的值</li>
<li>await命令后面是一个thenable对象（即定义then方法的对象），那么await会将其等同于 Promise 对象</li>
</ul>
<pre><code class="lang-js hljs"><span class="hljs-comment">// 1 Promise 对象</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">sleep</span>(<span class="hljs-params">time = <span class="hljs-number">1000</span></span>) </span>{
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve</span>) =&gt;</span> {
    setTimeout(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
      resolve(time)
    }, time);
  })
}

<span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">fetch</span>(<span class="hljs-params"></span>) </span>{
  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'1'</span>)
  <span class="hljs-keyword">await</span> sleep()
  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'3'</span>)
}

fetch() <span class="hljs-comment">// =&gt; 1 1s后 3</span>

<span class="hljs-comment">// 2 普通对象</span>
<span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">f</span>(<span class="hljs-params"></span>) </span>{
  <span class="hljs-comment">// 等同于</span>
  <span class="hljs-comment">// return 123;</span>
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">await</span> <span class="hljs-number">123</span>;
}

f().then(<span class="hljs-function"><span class="hljs-params">v</span> =&gt;</span> <span class="hljs-built_in">console</span>.log(v))

<span class="hljs-comment">// 3 thenable对象</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Sleep</span> </span>{
  <span class="hljs-keyword">constructor</span>(timeout) {
    <span class="hljs-keyword">this</span>.timeout = timeout;
  }
  then(resolve, reject) {
    <span class="hljs-keyword">const</span> startTime = <span class="hljs-built_in">Date</span>.now();
    setTimeout(
      <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> resolve(<span class="hljs-built_in">Date</span>.now() - startTime),
      <span class="hljs-keyword">this</span>.timeout
    );
  }
}

(<span class="hljs-keyword">async</span> () =&gt; {
  <span class="hljs-keyword">const</span> sleepTime = <span class="hljs-keyword">await</span> <span class="hljs-keyword">new</span> Sleep(<span class="hljs-number">1000</span>);
  <span class="hljs-built_in">console</span>.log(sleepTime);
})();
<span class="hljs-comment">// 1000</span>
</code></pre>
<p><strong>thenable：</strong> await命令后面是一个Sleep对象的实例。这个实例不是 Promise 对象，但是因为定义了then方法，await会将其视为Promise处理</p>

    </div>
</div>
</div>

<div id="container-floating" style="display:none;" class="d-none d-md-block d-xl-block">
    <div id="floating-button" onclick="toggleMore()">
        <p id="floating-more" class="more">&gt;</p>
    </div>
</div>

<!--
<div class="footer" id="vnote-footer">
    <p>Generated by <em><a href="https://tamlok.github.io/vnote/">VNote</a></em>.</p>
</div>
-->
</body>
</html>
