# 卡特兰数

## 问题
### [不同的二叉搜索树](https://leetcode-cn.com/problems/unique-binary-search-trees/solution/bu-tong-de-er-cha-sou-suo-shu-by-leetcode/)
给定一个整数 n，求以 1 ... n 为节点组成的二叉搜索树有多少种？
给定一个有序序列 1 ... n，为了根据序列构建一棵二叉搜索树。我们可以遍历每个数字 i，将该数字作为树根，1 ... (i-1) 序列将成为左子树，(i+1) ... n 序列将成为右子树。于是，我们可以递归地从子序列构建子树。由于根各自不同，每棵二叉树都保证是独特的。
使用$k_n$表示$n$个节点有多少种可能。当遍历到第$i$个节点时，左子树有$i-1$个节点，有子树有$n-i$个节点。左右子树各不相同，所以使用笛卡尔积：
$k_{n+1} = \sum_{i=0}^{n}{k_i*k_{n-i}}$

### [凸多边形的三角形划分](https://blog.csdn.net/wookaikaiko/article/details/81105031)
一个凸的n边形，用直线连接他的两个顶点使之分成多个三角形，每条直线不能相交，问一共有多少种划分方案。
我们从节点1开始考虑，要想分割成三角形区域，1不能和与它相邻的点连接，所以1可以连接3,4,...,N-1;假设1连接i,则分割成的两个区域分别为i凸多边形和N+2-i凸多边形，即对于节点1,f1(N)=f(3)f(N+2-3)+f(4)f(N+2-4)+...+f(N-1)f(3);N多边形共N个点，对应于每个点有f1(N)中分割方法，总的分割方法为f(N)=Nf1(N),但是每增加一条边，其连接两个点，所以在f(N)中有一半是重复情况，所以最终的分割方法为：
$f(N) = \frac{N}{2}\sum_{i=3}^{N-1}{f(i)f(N+2-i)}$



### [入栈出栈序列](https://segmentfault.com/a/1190000012637057)
一个序列从1到n依次入栈, 那么可能的出栈序列一共有多少种？**注意**: 在任意一个时刻,只要栈不为空, 就可能有元素出栈, 不是说元素全部入栈之后再出栈
假定1表示入栈，-1表示出栈，那么问题就抽象成为从2n个元素中选取n个1的问题。这是组合问题，有$C^n_{2n}$种可能，显然肯定是有非法操作的。

$k_n = C^n_{2n} - C_{2n}^{n-1}$



## 公式：
$$
\begin{array}{l}
k_0 = 1, k_1 = 1\\
k_{n+1} = \sum_{i=0}^{n}{k_i*k_{n-i}}\\
k_n = C^n_{2n} - C_{2n}^{n+1} = C^n_{2n} - C_{2n}^{n-1}\\
k_n = \frac{1}{n+1}C^n_{2n}\\
k_{n+1} = \frac{4n+2}{n+2}k_n
\end{array}
$$

公式推导：生成函数、广义二项式展开

## 铺垫--排列组合
- **排列** ：从$n$个不同元素中，任取$m(m≤n)$个不同的元素按照一定的顺序排成一列，叫做从$n$个不同元素中取出$m$个元素的一个排列，用符号$A(n,m)$或者$A_n^m$表示。
- **组合**：从$n$个不同元素中，任取$m(m≤n)$个元素并成一组，叫做从$n$个不同元素中取出$m$个元素的一个组合，用符号$C(n,m)$或者$C_n^m$表示。

$$
\begin{array}{l}
A^m_n = n(n-1)(n-2)\cdots(n-m+1)=\frac{n!}{(n-m)!}\\
C^m_n = \frac{A^m_n}{m!} = \frac{n!}{m!(n-m)!}, C_n^m = C_n^{n-m}
\end{array}
$$




